(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b673a"],{"1ce7":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("分类管理")]),a("a-row",{staticStyle:{"margin-bottom":"20px"},attrs:{type:"flex"}},[a("a-col",{staticStyle:{width:"100%",display:"flex"}},[a("a-button",{attrs:{type:"primary"},on:{click:t.popCategory}},[t._v("添加分类")])],1)],1),a("s-table",{ref:"table",attrs:{bordered:"",size:"default","row-key":"id",columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"action",fn:function(e){return[a("a-button",{attrs:{type:"link"},on:{click:function(a){return t.toEdit(e.id)}}},[t._v("编辑")]),a("a-button",{attrs:{type:"link"},on:{click:function(a){return t.toDelete(e.id)}}},[t._v("删除")])]}}])}),a("a-modal",{attrs:{title:t.isEdit?"编辑分类":"添加分类",width:"60%",okButtonProps:{props:{loading:t.submitLoading}}},on:{ok:t.handleSubmit},model:{value:t.categoryVisible,callback:function(e){t.categoryVisible=e},expression:"categoryVisible"}},[a("a-spin",{attrs:{spinning:t.modalLoading}},[a("a-form",[a("a-form-item",{attrs:{label:"分类名称"}},[a("a-input",{model:{value:t.form.category_name,callback:function(e){t.$set(t.form,"category_name",e)},expression:"form.category_name"}})],1)],1)],1)],1)],1)},o=[],n=(a("d3b7"),a("5530")),s=a("ab09"),r=a("2f62"),c=function(){return{keyword:""}},l=function(){return{category_name:""}},d={components:{STable:s["a"]},data:function(){var t=this,e=[{title:"id",dataIndex:"id"},{title:"标签名称",dataIndex:"category_name"},{title:"操作",scopedSlots:{customRender:"action"}}];return{columns:e,searchParams:c(),form:l(),submitLoading:!1,isEdit:!1,categoryVisible:!1,modalLoading:!1,loadData:function(e){return t.getCategoryList(e)}}},methods:Object(n["a"])(Object(n["a"])({},Object(r["b"])("category",{getCategoryList:"getList",deleteCategory:"delete",updateCategory:"update",addCategory:"add",getCategoryDetail:"getDetail"})),{},{popCategory:function(){this.isEdit=!1,this.form=l(),this.categoryVisible=!0},toEdit:function(t){var e=this;this.form=c(),this.isEdit=!0,this.modalLoading=!0,this.categoryVisible=!0,this.getCategoryDetail(t).then((function(t){e.form=Object.assign({},e.form,t.data)})).finally((function(){e.modalLoading=!1}))},toDelete:function(t){var e=this;this.$confirm({content:"你确定要删除这个分类？",okText:"确认",cancelText:"取消",onOk:function(){e.deleteCategory(t).then((function(t){e.$refs.table.refresh(!0)}))}})},handleSubmit:function(){var t=this;this.modalLoading?this.categoryVisible=!1:(this.submitLoading=!0,this.isEdit?this.updateCategory({id:this.form.id,data:this.form}).then((function(){t.$message.success("修改成功"),t.$refs.table.refresh(!0),t.categoryVisible=!1})).finally((function(){t.submitLoading=!1})):this.addCategory(this.form).then((function(){t.$message.success("添加成功"),t.$refs.table.refresh(!0),t.categoryVisible=!1})).finally((function(){t.submitLoading=!1})))}})},u=d,f=a("2877"),g=Object(f["a"])(u,i,o,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-2d0b673a.7dd358eb.js.map